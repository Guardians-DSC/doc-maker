<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title><%= [topic_title, subgroup_title].compact.join(' - ') %> | <%= group_title %> | <%= distro %> <%= version %></title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css">
  <link href="<%= File.join(css_path, 'docs.css') %>" rel="stylesheet" />
  <link href="_images/favicon32x32.png" rel="shortcut icon" type="image/png">
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <!-- Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="<%= [topic_title, subgroup_title].compact.join(' - ') %>">
  <meta property="og:image" content="https://raw.githubusercontent.com/Guardians-DSC/docs/gh-pages/imgs/facebook.png">
  <meta property="og:description" content="Documentação Guardians-DSC">
  <meta property="og:locale" content="pt_BR">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://assets.openshift.net/content/html5shiv.js" type="text/javascript"></script>
    <script src="https://assets.openshift.net/content/respond.js" type="text/javascript"></script>
    <link href="https://assets.openshift.net/content/vendor/respond-js/respond-proxy.html" id="respond-proxy" rel="respond-proxy">
    <link href="<%= File.join(images_path, "respond.proxy.gif") %>" id="respond-redirect" rel="respond-redirect">
    <script src="<%= File.join(javascripts_path, "respond.proxy.js") %>" type="text/javascript"></script>
  <![endif]-->
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="<%= File.join(javascripts_path, "bootstrap-offcanvas.js") %>" type="text/javascript"></script>
  <script src="<%= File.join(javascripts_path, "reformat-html.js") %>" type="text/javascript"></script>
</head>
<body>
  <%= render("_templates/_topnav.html.erb", :distro_key => distro_key, :site_url => site_url) %>


  <div class="container">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="sitename">
        <a href="<%= site_url %>"><%= site_name %></a>
      </li>
      <li class="hidden-xs active">
        <%= breadcrumb_root %>
      </li>
      <li class="hidden-xs active">
        <%= breadcrumb_group %>
      </li>
      <%= breadcrumb_subgroup_block %>
      <li class="hidden-xs active">
        <%= breadcrumb_topic %>
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <div class="row-fluid">
          <%= render("_templates/_search.html.erb", :distro_key => distro_key, :version => version) %>
        </div>
        <%= render("_templates/_nav.html.erb", :navigation => navigation, :group_id => group_id, :topic_id => topic_id, :subgroup_id => subgroup_id, :subtopic_shim => subtopic_shim) %>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1><%= article_title %></h1>

        </div>
        <%= content %>

        <h4> Esse documento  existe graças à contribuição de:</h4>
        <div id="contribuidores"></div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
      $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
      $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });

      // Script para pegar github de quem contribuiu para um documento específico
     var url = "https://api.github.com/repos/guardians-dsc/docs/commits?path=<%= navigation.find{|h| h[:id] == topic_id.split('::')[0]}[:topics][0][:path][2..-1] %>";
      url = url.replace("html", "adoc");
      var unique = [];
      $.getJSON(url, function(data) {
          var twitterList = $("<ul />");
          $.each(data, function(index, item) {
              if(item.author && unique.indexOf(item.author.html_url) == -1) {
                  $("<li />", {
                      "text": item.author.html_url
                  }).appendTo(twitterList);
                  unique.push(item.author.html_url)
              }
          });

          $("#contribuidores").fadeOut("fast", function() {$(this).empty().append(twitterList).fadeIn(1000);});
      })

    });
    /*]]>*/
  </script>
  <%= render("_templates/_footer.html.erb", :distro_key => distro_key, :images_path => images_path) %>
</body>
</html>
